{"version":3,"sources":["webpack:///webpack/bootstrap 1980652bb705a0e50574","webpack:///./src/app.js","webpack:///./src/record_store/record_store.js","webpack:///./src/record_store/record.js","webpack:///./src/sample.json","webpack:///./src/record_store/store_view.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,E;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,oBAAmB,2BAA2B;AAC9C;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA,IAAG;;AAEH;AACA;AACA,oBAAmB,2BAA2B;AAC9C;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,oBAAmB,2BAA2B;AAC9C;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;;;;AAIA;;;AAGA;;;;;;;ACnEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC5BA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 1980652bb705a0e50574\n **/","var Store = require(\"./record_store/record_store.js\");\nvar Record = require(\"./record_store/record.js\");\nvar sampleRecords = require(\"./sample.json\");\nvar StoreView = require(\"./record_store/store_view.js\");\n\nwindow.onload = function() {\n  console.log(\"app started\");\n  var store = new Store(\"Music4U\", \"Edinburg\", 100);\n\n  var records = JSON.parse(localStorage.getItem('storedRecords')) || sampleRecords;\n  console.log(records);\n\n  for(record of records) {\n    store.add(new Record(record));\n  };\n\n  \n  var displayStore = new StoreView(store);\n\n\n  displayStore.render();\n  var addForm = document.getElementById(\"add-form\");\n   addForm.onsubmit = function(event) {\n    event.preventDefault();\n    displayStore.addRecord();\n  }\n\n  var buyForm = document.getElementById(\"buy-form\");\n   buyForm.onsubmit = function(event) {\n    event.preventDefault();\n    displayStore.sellRecord();\n  }\n  \n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app.js\n ** module id = 0\n ** module chunks = 0\n **/","var Store = function (name, city, balance) {\n  this.name = name;\n  this.city = city;\n  this.balance = balance;\n  this.inventory = [];\n};\n\nStore.prototype = {\n  add: function(record) {\n    this.inventory.push(record);\n  },\n\n  inventoryPrint: function () {\n    var list = [];\n    for (var i = 0; i < this.inventory.length; i++) {\n      list.push(this.inventory[i] );\n    }\n    return list;\n  },\n\n  addBalance: function (record) {\n        this.balance += record.price;\n\n  },\n\n  delete: function (name,title) {\n    var result;\n    for (var i = 0; i < this.inventory.length; i++) {\n      if(this.inventory[i].name === name && this.inventory[i].title === title ) {\n         result = this.inventory.splice(i,1);\n\n      }\n    }\n    return result;\n  },\n\n  sell: function (record,customer) {\n\n    var result = this.delete(record);\n    this.addBalance(result[0]);\n    customer.inventory.push(result[0]);\n    customer.balance -= result[0].price;\n  },\n\n  total: function () {\n    var totalValue = 0;\n    for (var i = 0; i < this.inventory.length; i++) {\n      totalValue += this.inventory[i].price;\n    }\n    var string = \"Balance: \" + this.balance + \", Stock Value: \" + totalValue;\n    return string;\n  },\n\n  decreaseBalance: function (record) {\n    this.balance -= record.price;\n  },\n\n  buy: function (record) {\n    this.decreaseBalance(record);\n    this.add(record);\n  }\n\n\n\n};\n\n\nmodule.exports = Store;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/record_store/record_store.js\n ** module id = 1\n ** module chunks = 0\n **/","var Record = function (record) {\n  this.name = record.name;\n  this.title = record.title;\n  this.price = record.price;\n};\n\nmodule.exports = Record;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/record_store/record.js\n ** module id = 2\n ** module chunks = 0\n **/","\n\nmodule.exports = [\n  {\n    \"name\": \"Rihanna\",\n    \"title\": \"Diamonds\",\n    \"price\": 10\n  },\n  {\n    \"name\": \"Eminem\",\n    \"title\": \"Marshall\",\n    \"price\": 12\n  },\n  {\n    \"name\": \"Shakira\",\n    \"title\": \"Wolf\",\n    \"price\": 9\n  },\n  {\n    \"name\": \"Britney\",\n    \"title\": \"Lolipop\",\n    \"price\": 7\n  },\n  {\n    \"name\": \"Kid Rock\",\n    \"title\": \"Drums\",\n    \"price\": 10\n  }\n]\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/sample.json\n ** module id = 3\n ** module chunks = 0\n **/","var Record = require(\"./record.js\");\n\n\nvar StoreView = function(store) {\n  this.store = store;\n}\n\nStoreView.prototype = {\n  render: function() {\n    var nameHeading = document.getElementById(\"name\");\n    var cityHeading = document.getElementById(\"city\");\n    nameHeading.innerText = this.store.name;\n    cityHeading.innerText = this.store.city;\n\n    \n\n    var inventroyUl = document.getElementById(\"inventory-list\");\n\n    for(record of this.store.inventory) {\n      var li = document.createElement(\"li\");\n      li.id = record.title;\n      li.innerText = record.name + \" -- \" + record.title + \" £\" + record.price;\n      inventroyUl.appendChild(li);\n    }\n  },\n  sellRecord: function() {\n    var artist = document.getElementsByClassName('buy-input')[0].value;\n    var title = document.getElementsByClassName('buy-input')[1].value;\n    this.store.delete(artist, title);\n    var li = document.getElementById(title);\n    var ul = document.getElementById(\"inventory-list\");\n    console.log(li);\n    ul.removeChild(li);\n    localStorage.removeItem(\"storedRecords\");\n    localStorage.setItem(\"storedRecords\",JSON.stringify(this.store.inventory));\n  },\n  addRecord: function() {\n    var artist = document.getElementsByClassName('add-input')[0].value;\n    var title = document.getElementsByClassName('add-input')[1].value;\n    var price = document.getElementsByClassName('add-input')[2].value;\n    var record = {name: artist, title: title, price: price}\n      this.store.add(new Record( record ));\n      console.log(this.store.inventory);\n    var ul = document.getElementById(\"inventory-list\");\n    var li = document.createElement(\"li\");\n    li.id = title;\n    li.innerText = artist + \" -- \" + title + \" £\" + price;\n    ul.appendChild(li);\n    localStorage.removeItem(\"storedRecords\");\n    console.log(this.store.inventory);\n    localStorage.setItem(\"storedRecords\",JSON.stringify(this.store.inventory));\n  }\n};\n\nmodule.exports = StoreView;\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/record_store/store_view.js\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":""}